#!/bin/sh
# $Id: gen-ent,v 1.10 2005/03/05 21:49:29 zas Exp $

echo
echo Generating entity table.
(
cat entities.lnx | grep '^[ 	]*{"' | sort >tmp
N=`cat tmp | wc -l`
echo '/* Automatically generated by gen-ent */'
echo
echo 'struct entity { char *s; unicode_val_T c; } entities ['`expr $N + 1`'] = {'
cat tmp
echo '  {NULL,	0}'
echo '};'
echo
echo '#define N_ENTITIES' $N
) > ../src/intl/entity.inc
rm -f tmp
echo Done.
echo
